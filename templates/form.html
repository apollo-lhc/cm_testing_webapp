{% extends "base.html" %}
{% block title %}Data Entry{% endblock %}
{% block content %}
<div class="container">
  <h2>Form: {{ form_label or name }}</h2>
  <form method="POST" enctype="multipart/form-data">
    {% for field in fields %}
      <label>{{ field.label }}:</label><br>
      {% if errors and errors.get(field.name) %}
        <div style="color: #c00; margin-bottom: 4px;">{{ errors.get(field.name) }}</div>
      {% endif %}
      {% if field.type == 'boolean' %}
        <div style="display: flex; gap: 10px; align-items: center;">
          <label><input type="radio" name="{{ field.name }}" value="yes"> Yes</label>
          <label><input type="radio" name="{{ field.name }}" value="no"> No</label>
        </div>
        <br><br>
      {% elif field.type == 'float' %}
        <input type="number" step="any" name="{{ field.name }}"><br><br>
      {% elif field.type == 'integer' %}
        <input type="number" step="1" name="{{ field.name }}"><br><br>
      {% elif field.type == 'text' %}
        <textarea name="{{ field.name }}"></textarea><br><br>
      {% elif field.type == 'file' %}
        <input type="file" name="{{ field.name }}"><br><br>
      {% endif %}
    {% endfor %}
    <input type="submit" value="Submit">
  </form>
  <a href="/history">View All Submissions</a> | <a href="/logout">Logout</a>
</div>
{% endblock %}